{"version":3,"sources":["C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/enums/api-endpoint.enum.ts","C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/enums/content-type.enum.ts","C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/enums/index.ts","C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/http-base.service.ts","C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/index.ts","C:/MyGit/Personal/KnowHowBase/Client/~/rxjs/add/operator/map.js","C:/MyGit/Personal/KnowHowBase/Client/~/rxjs/add/operator/toPromise.js","C:/MyGit/Personal/KnowHowBase/Client/~/rxjs/operator/toPromise.js"],"names":[],"mappings":"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,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,kEAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC5C,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAED,MAAM,CAAC,EAAE,CAAC;IACZ,CAAC;IAEO,2CAAiB,GAAzB,UAA0B,WAAmB;QAC3C,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,GAAG,WAAW,CAAC;QAChD,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IACH,sBAAC;AAAD,CAAC;;;;;;;;;;;;;;ACxIuB;AACY;;;;;;;;;ACDpC;AACA;AACA;AACA;AACA,+B;;;;;;;;ACJA;AACA;AACA;AACA;AACA,qC;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kBAAkB,EAAE,kBAAkB,oBAAoB,EAAE,eAAe,uBAAuB,EAAE;AAC1I,KAAK;AACL;AACA;AACA,qC","file":"0.chunk.js","sourcesContent":["export enum ApiEndpoint {\n  KnowHowBaseWebService = 0\n};\n\n\n\n// WEBPACK FOOTER //\n// C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/enums/api-endpoint.enum.ts","export enum ContentType {\r\n  None = 0,\r\n  ApplicationJson\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/enums/content-type.enum.ts","export * from './content-type.enum';\r\nexport * from './api-endpoint.enum';\r\n\n\n\n// WEBPACK FOOTER //\n// C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/enums/index.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response, Headers, RequestOptions, URLSearchParams } from '@angular/http';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\nimport { JsObjUtilities, JsObjFactory } from '../../utilities';\r\nimport { IParameterlessConstructor } from '../../types/interfaces';\r\nimport { ContentType, ApiEndpoint } from './enums';\r\n\r\nexport abstract class HttpBaseService {\r\n  public abstract get apiEndpoint(): ApiEndpoint;\r\n\r\n  protected constructor(private http: Http, private baseUrl: string) { }\r\n\r\n  public getAsync<T>(relativeUrl: string, ctor: IParameterlessConstructor<T> | null = null): Promise<T> {\r\n    const completeUrl = this.createCompleteUrl(relativeUrl);\r\n    const requestOptions = this.createRequestOptions();\r\n    return this.processResponse(this.http.get(completeUrl, requestOptions), ctor);\r\n  }\r\n\r\n  public async getArrayAsync<T>(\r\n    relativeUrl: string,\r\n    ctor: IParameterlessConstructor<T>): Promise<T[]> {\r\n    const completeUrl = this.createCompleteUrl(relativeUrl);\r\n\r\n    const requestOptions = this.createRequestOptions();\r\n    const array = await this.processResponse<any[]>(this.http.get(completeUrl, requestOptions));\r\n\r\n    const arrayResult = array.map(item => {\r\n      const newObj = JsObjFactory.create(item, ctor);\r\n      return newObj;\r\n    });\r\n\r\n    return arrayResult;\r\n  }\r\n\r\n  public postAsync<T>(\r\n    relativeUrl: string,\r\n    body: any,\r\n    ctor: IParameterlessConstructor<T> | null = null,\r\n    contentType: ContentType = ContentType.ApplicationJson): Promise<T> {\r\n    const completeUrl = this.createCompleteUrl(relativeUrl);\r\n    const headers = new Headers();\r\n\r\n    const requestOptions = this.createRequestOptions(contentType);\r\n    return this.processResponse(this.http.post(completeUrl, body, requestOptions), ctor);\r\n  }\r\n\r\n  public deleteAsync(relativeUrl: string): Promise<void> {\r\n    const completeUrl = this.createCompleteUrl(relativeUrl);\r\n    const requestOptions = this.createRequestOptions();\r\n    const result = this.processResponse<void>(this.http.delete(completeUrl, requestOptions));\r\n\r\n    return result;\r\n  }\r\n\r\n  public putASync<T>(\r\n    relativeUrl: string,\r\n    body: any,\r\n    ctor: IParameterlessConstructor<T> | null = null,\r\n    contentType: ContentType = ContentType.ApplicationJson): Promise<T> {\r\n    const completeUrl = this.createCompleteUrl(relativeUrl);\r\n    const headers = new Headers();\r\n\r\n    const requestOptions = this.createRequestOptions(contentType);\r\n    return this.processResponse(this.http.put(completeUrl, body, requestOptions), ctor);\r\n  }\r\n\r\n  public patchAsync<T>(relativeUrl: string,\r\n    body: any,\r\n    ctor: IParameterlessConstructor<T> | null = null,\r\n    contentType: ContentType = ContentType.ApplicationJson): Promise<T> {\r\n    const completeUrl = this.createCompleteUrl(relativeUrl);\r\n\r\n    const requestOptions = this.createRequestOptions(contentType);\r\n    return this.processResponse(this.http.patch(completeUrl, body, requestOptions), ctor);\r\n  }\r\n\r\n  private processResponse<T>(response: Observable<Response>, ctor: IParameterlessConstructor<T> | null = null): Promise<T> {\r\n    let mappedResult = response.map(this.extractData);\r\n\r\n    if (ctor) {\r\n      mappedResult = mappedResult.map(f => {\r\n        const newObj = JsObjFactory.create(f, ctor);\r\n        return newObj;\r\n      });\r\n    }\r\n\r\n    const result = mappedResult.toPromise();\r\n    return result;\r\n  }\r\n\r\n  private mapContentType(contentType: ContentType): string {\r\n    switch (contentType) {\r\n      case ContentType.ApplicationJson:\r\n        return 'application/json';\r\n      default:\r\n        throw new RangeError(contentType.toString() + ' is not recognized');\r\n    }\r\n  }\r\n\r\n  private createRequestOptions(contentType?: ContentType | null): RequestOptions {\r\n    const headers = new Headers();\r\n\r\n    if (contentType) {\r\n      headers.append('Content-Type', this.mapContentType(contentType));\r\n    }\r\n\r\n    const s = new URLSearchParams();\r\n    const requestOptions = new RequestOptions({\r\n      headers: headers,\r\n      withCredentials: true,\r\n    });\r\n\r\n    return requestOptions;\r\n  }\r\n\r\n  private extractData(res: Response): any {\r\n    let body;\r\n    if (res.text()) {\r\n      body = res.json();\r\n    }\r\n\r\n    if (!JsObjUtilities.isNullOrUndefined(body)) {\r\n      return body;\r\n    }\r\n\r\n    return {};\r\n  }\r\n\r\n  private createCompleteUrl(relativeUrl: string) {\r\n    const result = this.baseUrl + '/' + relativeUrl;\r\n    return result;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/http-base.service.ts","export * from './enums';\r\nexport * from './http-base.service';\r\n\n\n\n// WEBPACK FOOTER //\n// C:/MyGit/Personal/KnowHowBase/Client/src/app/common/core-services/http/index.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/MyGit/Personal/KnowHowBase/Client/~/rxjs/add/operator/map.js\n// module id = ../../../../rxjs/add/operator/map.js\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar toPromise_1 = require('../../operator/toPromise');\nObservable_1.Observable.prototype.toPromise = toPromise_1.toPromise;\n//# sourceMappingURL=toPromise.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/MyGit/Personal/KnowHowBase/Client/~/rxjs/add/operator/toPromise.js\n// module id = ../../../../rxjs/add/operator/toPromise.js\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\n/* tslint:enable:max-line-length */\n/**\n * Converts an Observable sequence to a ES2015 compliant promise.\n *\n * @example\n * // Using normal ES2015\n * let source = Rx.Observable\n *   .of(42)\n *   .toPromise();\n *\n * source.then((value) => console.log('Value: %s', value));\n * // => Value: 42\n *\n * // Rejected Promise\n * // Using normal ES2015\n * let source = Rx.Observable\n *   .throw(new Error('woops'))\n *   .toPromise();\n *\n * source\n *   .then((value) => console.log('Value: %s', value))\n *   .catch((err) => console.log('Error: %s', err));\n * // => Error: Error: woops\n *\n * // Setting via the config\n * Rx.config.Promise = RSVP.Promise;\n *\n * let source = Rx.Observable\n *   .of(42)\n *   .toPromise();\n *\n * source.then((value) => console.log('Value: %s', value));\n * // => Value: 42\n *\n * // Setting via the method\n * let source = Rx.Observable\n *   .of(42)\n *   .toPromise(RSVP.Promise);\n *\n * source.then((value) => console.log('Value: %s', value));\n * // => Value: 42\n *\n * @param {PromiseConstructor} [PromiseCtor] The constructor of the promise. If not provided,\n * it will look for a constructor first in Rx.config.Promise then fall back to\n * the native Promise constructor if available.\n * @return {Promise<T>} An ES2015 compatible promise with the last value from\n * the observable sequence.\n * @method toPromise\n * @owner Observable\n */\nfunction toPromise(PromiseCtor) {\n    var _this = this;\n    if (!PromiseCtor) {\n        if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n            PromiseCtor = root_1.root.Rx.config.Promise;\n        }\n        else if (root_1.root.Promise) {\n            PromiseCtor = root_1.root.Promise;\n        }\n    }\n    if (!PromiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return new PromiseCtor(function (resolve, reject) {\n        var value;\n        _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n    });\n}\nexports.toPromise = toPromise;\n//# sourceMappingURL=toPromise.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/MyGit/Personal/KnowHowBase/Client/~/rxjs/operator/toPromise.js\n// module id = ../../../../rxjs/operator/toPromise.js\n// module chunks = 0"],"sourceRoot":"webpack:///"}